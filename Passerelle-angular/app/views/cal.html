<!-- modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		    <h4 class="modal-title">Réservation #{{selectedBooking.id}}</h4>
		    faite le <strong>{{selectedBooking.dateReservation | date:'dd MMMM yyyy'}}</strong>
		    via <a href="{{channels[selectedBooking.channel].url}}">{{channels[selectedBooking.channel].text}}</a>
		  </div>
		  <div class="modal-body">
		    <p><strong>Chambre : </strong> {{rooms[selectedBooking.room].name}}  </p>
			<p><strong>Nom : </strong> {{selectedBooking.name}} </p>
			<p><strong>Adresse e-mail : </strong> {{selectedBooking.email}} </p>
			<p><strong>N° de téléphone :</strong> {{selectedBooking.telephone}} </p>
			<p><strong>Nombre de personnes :</strong> {{selectedBooking.guestsNumber}} </p>
			<p><strong>Date arrivée :</strong> {{selectedBooking.dateIn | date:'EEEE dd MMMM yyyy'}} </p>
			<p><strong>Date départ :</strong> {{selectedBooking.dateOut | date:'EEEE dd MMMM yyyy'}} </p>
			<p><strong>Statut :</strong> {{statuses[selectedBooking.status].text}} </p>
			<p><strong>Notes :</strong> {{selectedBooking.notes}} </p>		
		  </div>
		  <div class="modal-footer">
		      <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
		  </div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="content">
	<div class="row">
		<h1>Nouvelle réservation</h1>
		<div class="col-xs-8 col-xs-offset-2" >
			<div class="panel panel-default" >
				<div class="panel-heading">
				  <h2 class="panel-title">Ajouter une réservation</h2>
				</div>
				<div class="panel-body" ng-include="bookingTemplate">
				</div>
			</div>
		</div>
	</div>

	<div class="row" ng-include="calendarsTemplate"></div>

    <div class="row">
    	<h1>Réservations</h1>
    	<p class="lead">Rechercher un client: &nbsp;
    		<input type="text" ng-model="search" placeholder="Nom du client"></p>
    	<ul class="nav nav-tabs" >
    		<li role="presentation" ng-class="{active:isSelected('all')}">
            	<a ng-click="select('all')" aria-controls="all" role="tab">Toutes les réservations</a>
            </li>
            <li role="presentation" ng-class="{active:isSelected(room.id)}" ng-repeat="room in rooms">
            	<a ng-click="select(room.id)" aria-controls="{{room.name}}" role="tab">{{room.name}}</a>
            </li>
        </ul>
        <div class="tab-content fade in active">
        	<br/>
	        <div>
	        	<table class="table table-striped table-bordered table-hover">
  					<tr>
				    	<th ng-click="sortBookingBy('id')" class="sorting-hover"> <i class="fa fa-sort"></i> Réservation n°</th>
				    	<th>Chambre</th>
				    	<th ng-click="sortBookingBy('name')" class="sorting-hover"> <i class="fa fa-sort"></i> Nom client</th>
				    	<th ng-click="sortBookingBy('dateIn')" class="sorting-hover"> <i class="fa fa-sort"></i> Dates de séjour</th>
				  	</tr>
				  	<tr ng-repeat="booking in bookings | filter:{ room: selectedRoom } | filter:{name: search} | orderBy:sort:reverseSort"
				  		data-toggle="modal" data-target="#myModal" ng-click="setSelectedBooking(booking)">
				    	<td><strong>{{booking.id}}</strong></td>
				    	<td>{{rooms[booking.room].name}}</td>
				    	<td>{{booking.name}}</td>
				    	<td>Du <strong>{{booking.dateIn | date:'dd MMMM yyyy'}}</strong> au 
				    		<strong>{{booking.dateOut | date:'dd MMMM yyyy'}}</strong></td>
				  	</tr>
				</table>
	        </div>
    	</div>
    </div>   
</div>
